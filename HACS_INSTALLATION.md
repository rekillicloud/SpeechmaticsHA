# Установка через HACS

## Проблема с версией

Если вы получаете ошибку `The version 4dfecc5 for this integration can not be used with HACS`, это означает, что HACS пытается использовать SHA коммита вместо версии из `manifest.json`.

## Решение

### Вариант 1: Создать GitHub релиз (рекомендуется)

1. Создайте репозиторий на GitHub
2. Загрузите код в репозиторий
3. Создайте релиз с тегом `v1.0.0` (соответствует версии в `manifest.json`)
4. В HACS добавьте репозиторий:
   - Перейдите в **HACS** → **Интеграции** → **⋮** (три точки) → **Custom repositories**
   - Добавьте URL вашего GitHub репозитория
   - Выберите категорию: **Integration**
   - Нажмите **Add**
5. Установите интеграцию через HACS

### Вариант 2: Установка вручную (без HACS)

Если вы не хотите создавать GitHub репозиторий:

1. Скопируйте папку `custom_components/speechmatics_stt` в директорию `custom_components` вашего Home Assistant
2. Перезапустите Home Assistant
3. Добавьте интеграцию через **Настройки** → **Устройства и службы** → **Добавить интеграцию**

### Вариант 3: Использовать локальный репозиторий в HACS

Если вы используете локальный репозиторий:

1. Убедитесь, что в `manifest.json` указана версия в формате семантического версионирования (например, `1.0.0`)
2. Создайте тег в git: `git tag v1.0.0`
3. В HACS добавьте репозиторий с указанием тега

## Проверка структуры

Убедитесь, что структура репозитория правильная:

```
your-repo/
├── custom_components/
│   └── speechmatics_stt/
│       ├── __init__.py
│       ├── manifest.json
│       ├── stt.py
│       ├── config_flow.py
│       ├── const.py
│       └── strings.json
├── hacs.json
└── README.md
```

## Важные моменты

- Версия в `manifest.json` должна быть в формате `X.Y.Z` (например, `1.0.0`)
- Если создаете релиз на GitHub, тег должен соответствовать версии (например, `v1.0.0` или `1.0.0`)
- Файл `hacs.json` должен быть в корне репозитория
- После изменений в `manifest.json` или `hacs.json` перезапустите Home Assistant
